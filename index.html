<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide Navbar</title>
    <link rel="stylesheet" href="login.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <div class = "scrollable">
    <div class="main">  
        <input type="checkbox" id="chk" aria-hidden="true">
        <div class="title">FITCONNECT</div>
        <img src="logo-removebg-preview.png" alt="FitConnect logo" />
        <div class="vp">Stay fit anywhere, anytime.</div>

        <div class="login" id="login">
            <form>
                <label for="chk" aria-hidden="true" class="bigtext">Login</label>
                <input type="email" name="email" placeholder="Email" required>
                <input type="password" name="pswd" placeholder="Password" required>
                <button type="button" class="login-btn" onclick="location.href='setWatch.html';">Log In</button>
            </form>
        </div>

        <div class="signup" id="signup">
            <form>
                <label class="bigtext" for="chk" aria-hidden="true">Sign up</label>

                <input type="text" id="firstName" name="txt" placeholder="First name" required>
                <input type="text" id="lastName" name="txt2" placeholder="Last name" required>

                <input type="email" name="email" placeholder="Email" required>
                <input type="tel" name="broj" placeholder="Phone number" required>
                <input type="password" name="pswd" placeholder="Password" required>
                <input type="password" name="pswd" placeholder="Confirm password" required>

                <div class="question-container">
                    <label class="question"><p>Are you a professional trainer?</p></label>
                    <label class="switch">
                        <input type="checkbox" id="trainerSwitch" onchange="toggleCertificate()">
                        <span class="slider"></span>
                    </label>
                </div>

<div id="certificateField" style="display: none;">
    <label for="certificate">Upload Certificate:</label>
    <input type="file" name="certificate" id="certificate" accept=".jpg, .png, .pdf">
</div>
<p id="fileStatus"></p>

<div id="popupMessage" style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -50%); 
    background-color: #f8f9fa; border: 2px solid #6c757d; padding: 20px; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
    Your application for trainer has been sent!
</div>

                <a href="setWatch.html"><button type="button" class="signup-btn"  onclick="saveUserData()">Sign up</button></a>
            </form>
        </div>

        <div class="signupprompt" id="signupprompt">
            <p>New here?</p>
            <button class="signupprompt-btn" onclick="Button('signup', 'login', 'signupprompt', 'loginprompt')">Sign up</button>
        </div>

        <div class="loginprompt" id="loginprompt">
            <p>Already have an account?</p>
            <button class="loginprompt-btn" onclick="Button('login', 'signup', 'loginprompt', 'signupprompt')">Log in</button>
        </div>
    </div></div>

    <script type="text/javascript">
        
        function toggleCertificate() {
            var certificateField = document.getElementById("certificateField");
            var trainerSwitch = document.getElementById("trainerSwitch");

            if (trainerSwitch.checked) {
                certificateField.style.display = 'block';
            } else {
                certificateField.style.display = 'none';
            }
        }

        function Button(divId, div2id, div3id, div4id) {
            var e = document.getElementById(divId);
            var e2 = document.getElementById(div2id);
            var p = document.getElementById(div3id);
            var p2 = document.getElementById(div4id);
            
            if (e.style.display === 'none' || e.style.display === '') {
                e.style.display = 'block';
                e2.style.display = 'none';
                p.style.display = 'none';
                p2.style.display = 'block';
            } else {
                e.style.display = 'none';
                e2.style.display = 'block';
                p2.style.display = 'none';
                p.style.display = 'block';
            }
        }

        var signup = document.getElementById("signup");
        signup.style.display = 'none';

        var loginprompt = document.getElementById("loginprompt");
        loginprompt.style.display = 'none';

        function saveUserData() {
        var firstName = document.getElementById("firstName").value;
        var lastName = document.getElementById("lastName").value;

        if (firstName && lastName) {
            localStorage.setItem("firstName", firstName);
            localStorage.setItem("lastName", lastName);

            console.log("Data saved: ", firstName, lastName);

            location.href = 'footer.html';
        } else {
            alert("Please enter both first name and last name.");
        }
    }
    localStorage.clear();  
    

    const certificateInput = document.getElementById("certificate");
    const fileStatus = document.getElementById("fileStatus");

    certificateInput.addEventListener("change", () => {
        if (certificateInput.files.length > 0) {
            const fileName = certificateInput.files[0].name;
            fileStatus.textContent = `File uploaded: ${fileName}`;
            fileStatus.style.color = "green";
        } else {
            fileStatus.textContent = "No file uploaded.";
            fileStatus.style.color = "red";
        }
    });

    const fileInput = document.getElementById('certificate');
    const popupMessage = document.getElementById('popupMessage');

    fileInput.addEventListener('change', () => {
        if (fileInput.files.length > 0) {
            popupMessage.style.display = 'block';

            setTimeout(() => {
                popupMessage.style.display = 'none';
            }, 3500);
        }
    });
    

</script>


    
</body>
</html>
